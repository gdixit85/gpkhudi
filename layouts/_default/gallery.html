{{ define "main" }}
<section class="section">
    <div class="container">
        <h1 style="text-align: center; margin-bottom: var(--spacing-xs);">рдЫрд╛рдпрд╛рдЪрд┐рддреНрд░ рджрд╛рд▓рди</h1>
        <p style="text-align: center; color: var(--color-text-light); margin-bottom: var(--spacing-xl);">
            рдЦреБрдбреА рдЧрд╛рд╡рд╛рддреАрд▓ рд╡рд┐рдХрд╛рд╕ рдХрд╛рдорд╛рдВрдЪреЗ рдЫрд╛рдпрд╛рдЪрд┐рддреНрд░реЗ
        </p>

        <!-- Gallery Grid from CMS -->
        <div class="gallery-grid" id="gallery-grid">
            {{ $gallery := where .Site.RegularPages "Section" "gallery" }}
            {{ range sort $gallery ".Date" "desc" }}
            <div class="gallery-item" data-category="{{ .Params.category }}">
                {{ if .Params.cover_image }}
                <a href="{{ .Params.cover_image }}" target="_blank">
                    <img src="{{ .Params.cover_image }}" alt="{{ .Title }}" loading="lazy">
                </a>
                <div class="gallery-caption">
                    <h4>{{ .Title }}</h4>
                    <p>{{ .Params.description }}</p>
                </div>
                {{ else }}
                <div class="gallery-placeholder">
                    {{ if eq .Title "рд░рд╕реНрддрд╛ рдмрд╛рдВрдзрдХрд╛рдо" }}<span class="gallery-icon">ЁЯЫгя╕П</span>{{ end }}
                    {{ if eq .Title "рдкрд╛рдгреА рдкреБрд░рд╡рдард╛" }}<span class="gallery-icon">ЁЯЪ░</span>{{ end }}
                    {{ if eq .Title "рдкрдХреНрдХреА рдШрд░реЗ" }}<span class="gallery-icon">ЁЯПа</span>{{ end }}
                    {{ if not (or (eq .Title "рд░рд╕реНрддрд╛ рдмрд╛рдВрдзрдХрд╛рдо") (eq .Title "рдкрд╛рдгреА рдкреБрд░рд╡рдард╛") (eq .Title "рдкрдХреНрдХреА рдШрд░реЗ")) }}<span
                        class="gallery-icon">ЁЯУ╖</span>{{ end }}
                    <h4>{{ .Title }}</h4>
                    <p>{{ .Params.description | default .Params.category }}</p>
                </div>
                {{ end }}
            </div>
            {{ end }}
        </div>

        {{ if not (where .Site.RegularPages "Section" "gallery") }}
        <div class="alert alert-info">
            <strong>ЁЯУ╕ рдЫрд╛рдпрд╛рдЪрд┐рддреНрд░реЗ рдирд╛рд╣реАрдд.</strong>
            <a href="/admin/#/collections/gallery" target="_blank">рд╡реНрдпрд╡рд╕реНрдерд╛рдкрди рдкреЕрдиреЗрд▓</a> рдордзреВрди рдлреЛрдЯреЛ рдЬреЛрдбрд╛.
        </div>
        {{ end }}

        <div style="text-align: center; margin-top: var(--spacing-xl);">
            <a href="/admin/#/collections/gallery" class="btn btn-primary" target="_blank">ЁЯУ╕ рдлреЛрдЯреЛ рдЬреЛрдбрд╛ / рд╕рдВрдкрд╛рджрд┐рдд
                рдХрд░рд╛</a>
        </div>
    </div>
</section>

<style>
    .gallery-caption {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
        color: white;
        padding: var(--spacing-sm);
    }

    .gallery-caption h4 {
        color: white;
        margin-bottom: 0;
        font-size: 0.9rem;
    }

    .gallery-caption p {
        margin-bottom: 0;
        font-size: 0.75rem;
        opacity: 0.8;
    }

    .gallery-item {
        position: relative;
    }

    .gallery-item a {
        display: block;
        width: 100%;
        height: 100%;
    }

    .gallery-item img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
</style>
{{ end }}